{"version":3,"file":"js/nautobot.js","mappings":"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","sources":["webpack://nautobot/webpack/runtime/chunk loaded","webpack://nautobot/./src/js/checkbox.js","webpack://nautobot/./src/js/draggable.js","webpack://nautobot/./src/js/drawer.js","webpack://nautobot/./src/js/history.js","webpack://nautobot/./src/js/utils.js","webpack://nautobot/./src/js/search.js","webpack://nautobot/./src/js/select-multiple-orderable.js","webpack://nautobot/./src/js/select2.js","webpack://nautobot/./src/js/cookie.js","webpack://nautobot/./src/js/sidenav.js","webpack://nautobot/./src/js/tabs.js","webpack://nautobot/./src/js/theme.js","webpack://nautobot/./src/js/nautobot.js","webpack://nautobot/./src/js/collapse.js","webpack://nautobot/./src/js/form.js","webpack://nautobot/webpack/bootstrap","webpack://nautobot/webpack/runtime/define property getters","webpack://nautobot/webpack/runtime/global","webpack://nautobot/webpack/runtime/hasOwnProperty shorthand","webpack://nautobot/webpack/runtime/make namespace object","webpack://nautobot/webpack/runtime/jsonp chunk loading","webpack://nautobot/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","const ITEM_CHECKBOX_SELECTOR = 'input[type=\"checkbox\"][name=\"pk\"]';\nconst TOGGLE_CHECKBOX_SELECTOR = 'input[type=\"checkbox\"].toggle';\nconst SELECT_ALL_BOX_SELECTOR = '#select_all_box';\nconst SELECT_ALL_CHECKBOX_SELECTOR = '#select_all';\n\n/**\n * Set checkbox `checked` state while dispatching proper events. Do nothing if `checkbox.checked` state is already the\n * same as passed `checked` parameter.\n * @param {HTMLInputElement} checkbox - Checkbox HTML element.\n * @param {boolean} checked - `checked` state to be set.\n * @returns {void} Do not return any value, set given HTML element state and dispatch `'change'` and `'input'` events.\n */\nconst setChecked = (checkbox, checked) => {\n  if (checkbox.checked !== checked) {\n    checkbox.checked = checked;\n    // Defer dispatching events with `setTimeout` to prevent handling intermediate states during sequential updates.\n    setTimeout(() => {\n      checkbox.dispatchEvent(new Event('change', { bubbles: true, cancelable: true }));\n      checkbox.dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n    });\n  }\n};\n\n/**\n * Initialize custom logic handlers for `class=\"toggle ...\"`, `name=\"pk\"` and `id=\"select-all\" checkboxes.\n * @returns {void} Do not return any value, just initialize proper custom logic handlers for specific checkboxes.\n */\nexport const initializeCheckboxes = () => {\n  // Track the last selected checkbox index for range selection.\n  let lastSelectedIndex = null;\n\n  /*\n   * `onClick` and `onInput` event handlers both act on the same checkbox elements, but in slightly different scenarios:\n   *   1. `onClick` is specifically tied to manual user interaction and is called only when user directly interacts with\n   *      checkbox element. It handles:\n   *        1.1. Checking/unchecking all individual checkboxes in the table when \"toggle\" checkbox is clicked.\n   *        1.2. Shift-click range selection for individual checkboxes in the table.\n   *   2. `onInput` is called after checkbox state is changed, regardless of the change being triggered programmatically\n   *       or by manual user interaction. It handles:\n   *         2.1. Showing/hiding \"select all\" box when \"toggle\" checkbox is checked/unchecked.\n   *         2.2. Checking/unchecking \"toggle\" checkbox based on the collective state of individual checkboxes.\n   *         2.3. Enabling/disabling buttons in \"select all\" box based on its checkbox state.\n   */\n  const onClick = (event) => {\n    // \"Toggle\" checkbox for object lists (PK column). Notice distinction between handling `'click'` and `'input'` events.\n    const toggleCheckbox = event.target.closest(TOGGLE_CHECKBOX_SELECTOR);\n    if (toggleCheckbox) {\n      const isChecked = toggleCheckbox.checked;\n\n      // Check/uncheck all PK column checkboxes in the table.\n      toggleCheckbox\n        .closest('table')\n        .querySelectorAll(`${ITEM_CHECKBOX_SELECTOR}:not(.visually-hidden)`)\n        .forEach((checkbox) => setChecked(checkbox, isChecked));\n\n      // Reset last selected index when using toggle all\n      lastSelectedIndex = null;\n    }\n\n    // Individual row item checkbox in object lists (PK column). Notice distinction between handling `'click'` and `'input'` events.\n    const itemCheckbox = event.target.closest(ITEM_CHECKBOX_SELECTOR);\n    if (itemCheckbox) {\n      const table = itemCheckbox.closest('table');\n      const allCheckboxes = [...table.querySelectorAll(`${ITEM_CHECKBOX_SELECTOR}:not(.visually-hidden)`)];\n      const currentIndex = allCheckboxes.indexOf(itemCheckbox);\n\n      // Handle shift-click for range selection/deselection in PK column.\n      if (event.shiftKey && lastSelectedIndex !== null) {\n        // Create range from previous click to current click\n        const startIndex = Math.min(lastSelectedIndex, currentIndex);\n        const endIndex = Math.max(lastSelectedIndex, currentIndex);\n\n        // Use the clicked item's new state for entire range\n        const shouldSelect = itemCheckbox.checked;\n\n        // Apply to entire range\n        allCheckboxes.slice(startIndex, endIndex + 1).forEach((checkbox) => setChecked(checkbox, shouldSelect));\n      }\n\n      // Always update anchor to current click (normal click or shift+click)\n      lastSelectedIndex = currentIndex;\n    }\n  };\n\n  const onInput = (event) => {\n    // \"Toggle\" checkbox for object lists (PK column). Notice distinction between handling `'click'` and `'input'` events.\n    const toggleCheckbox = event.target.closest(TOGGLE_CHECKBOX_SELECTOR);\n    if (toggleCheckbox) {\n      const isChecked = toggleCheckbox.checked;\n\n      // Show/hide the select all objects form that contains the bulk action buttons.\n      const selectAllBox = document.querySelector(SELECT_ALL_BOX_SELECTOR);\n      selectAllBox?.classList.toggle('visually-hidden', !isChecked);\n\n      if (selectAllBox && !isChecked) {\n        const selectAll = document.querySelector(SELECT_ALL_CHECKBOX_SELECTOR);\n        if (selectAll) {\n          setChecked(selectAll, false);\n        }\n      }\n    }\n\n    // Individual row item checkbox in object lists (PK column). Notice distinction between handling `'click'` and `'input'` events.\n    const itemCheckbox = event.target.closest(ITEM_CHECKBOX_SELECTOR);\n    if (itemCheckbox) {\n      const table = itemCheckbox.closest('table');\n      const allCheckboxes = [...table.querySelectorAll(`${ITEM_CHECKBOX_SELECTOR}:not(.visually-hidden)`)];\n\n      // Check or uncheck the \"toggle\" checkbox if all items are checked or any item is unchecked, respectively.\n      const tableToggleCheckbox = table.querySelector(TOGGLE_CHECKBOX_SELECTOR);\n      if (tableToggleCheckbox) {\n        const hasUnchecked = allCheckboxes.some((checkbox) => !checkbox.checked);\n        setChecked(tableToggleCheckbox, !hasUnchecked);\n      }\n    }\n\n    // `selectAll` is the checkbox that selects all objects.\n    const selectAll = event.target.closest(SELECT_ALL_CHECKBOX_SELECTOR);\n    // `selectAllBox` is the form bulk action buttons container.\n    const selectAllBox = event.target.closest(SELECT_ALL_BOX_SELECTOR);\n    if (selectAll && selectAllBox) {\n      // If the `selectAll` checkbox is checked, enable all form bulk action buttons.\n      const isChecked = selectAll.checked;\n      selectAllBox.querySelectorAll('button').forEach((button) => {\n        button.disabled = !isChecked;\n      });\n    }\n  };\n\n  document.addEventListener('click', onClick);\n  document.addEventListener('input', onInput);\n};\n","const DRAGGABLE_CLASS = 'nb-draggable';\nconst DRAGGABLE_CONTAINER_CLASS = 'nb-draggable-container';\nconst DRAGGABLE_HANDLE_CLASS = 'nb-draggable-handle';\nconst DRAGGING_CLASS = 'nb-dragging';\n\nexport const initializeDraggable = () => {\n  const closest = (element, className) => element?.closest?.(`.${className}`);\n\n  const createHandleOnMouseListener = (isDraggable) => (event) => {\n    const handle = closest(event.target, DRAGGABLE_HANDLE_CLASS);\n    if (handle) {\n      const draggable = closest(handle, DRAGGABLE_CLASS);\n      draggable.setAttribute('draggable', String(isDraggable));\n    }\n  };\n\n  const onMouseDown = createHandleOnMouseListener(true);\n  const onMouseUp = createHandleOnMouseListener(false);\n\n  const onDragStart = (event) => {\n    const draggable = closest(event.target, DRAGGABLE_CLASS);\n    if (draggable) {\n      event.dataTransfer.clearData('text/plain');\n      event.dataTransfer.setData('text/plain', event.target.id);\n      draggable.classList.add(DRAGGING_CLASS);\n    }\n  };\n\n  const onDragEnd = (event) => {\n    const draggable = closest(event.target, DRAGGABLE_CLASS);\n    if (draggable) {\n      draggable.classList.remove(DRAGGING_CLASS);\n      draggable.setAttribute('draggable', 'false');\n    }\n  };\n\n  const onDragOver = (event) => {\n    const draggableContainer = closest(event.target, DRAGGABLE_CONTAINER_CLASS);\n    if (draggableContainer) {\n      event.preventDefault();\n    }\n  };\n\n  const onDrop = (event) => {\n    const draggable = document.getElementById(event.dataTransfer.getData('text/plain'));\n    if (draggable) {\n      event.preventDefault();\n\n      const container = closest(draggable, DRAGGABLE_CONTAINER_CLASS);\n\n      const insertBefore = (() => {\n        // Were we dropped onto another draggable?\n        const dropDraggable = closest(event.target, DRAGGABLE_CLASS);\n        if (dropDraggable) {\n          /*\n           * Were we dropped in the top half or the bottom half of the target draggable?\n           *   - Top half - insert before that draggable.\n           *   - Bottom half - insert after that draggable.\n           */\n          const { height, top } = dropDraggable.getBoundingClientRect();\n          const isTopHalf = event.clientY < top + height / 2;\n          return isTopHalf ? dropDraggable : dropDraggable.nextSibling;\n        }\n\n        // We were dropped into empty space - find the closest draggable by geometry.\n        return [...container.children].find((child) => {\n          const { left, right, top } = child.getBoundingClientRect();\n          // Are we in the correct column?\n          if (left > event.clientX) {\n            // Found the first child that is too far to the right, so we insert before that child.\n            return true;\n          } else if (right >= event.clientX) {\n            // Child is in the correct column.\n            if (top >= event.clientY) {\n              // Found the first child in this column we were dropped above, so we insert before that child.\n              return true;\n            }\n          }\n          return false;\n        });\n      })();\n\n      if (insertBefore) {\n        container.insertBefore(draggable, insertBefore);\n      } else {\n        // Add to end of the list.\n        container.append(draggable);\n      }\n\n      draggable.classList.add(DRAGGING_CLASS);\n    }\n  };\n\n  // Using event delegation pattern here to avoid re-creating listeners each time DOM is modified.\n  document.addEventListener('mousedown', onMouseDown);\n  document.addEventListener('mouseup', onMouseUp);\n  document.addEventListener('dragstart', onDragStart);\n  document.addEventListener('dragend', onDragEnd);\n  document.addEventListener('dragover', onDragOver);\n  document.addEventListener('drop', onDrop);\n};\n","const DRAWER_CLASS = 'nb-drawer';\nconst DRAWER_OPEN_CLASS = 'nb-drawer-open';\n\n/**\n * Toggle drawer element with an option to force open/close.\n * @param {HTMLElement} drawer - Drawer HTML element to be toggled.\n * @param {boolean} [force] - Optionally force opening (`true`) or closing (`false`) regardless of current state.\n * @returns {void} Do not return any value, modify existing HTML element in-place.\n */\nconst toggleDrawer = (drawer, force) => {\n  if (!drawer) {\n    return;\n  }\n\n  drawer.classList.toggle(DRAWER_OPEN_CLASS, force);\n\n  const isOpen = drawer.classList.contains(DRAWER_OPEN_CLASS);\n\n  drawer.setAttribute('aria-hidden', isOpen ? 'false' : 'true');\n\n  const drawerToggles = [...document.querySelectorAll(`[data-nb-toggle=\"drawer\"][data-nb-target=\"#${drawer.id}\"]`)];\n  drawerToggles.forEach((drawerToggle) => drawerToggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false'));\n\n  /*\n   * Maintain proper element focus when the drawer is:\n   *   1. Open - focus the drawer as soon as it becomes visible and focusable.\n   *   2. Closed - in case focus is within the drawer move it back to the first found drawer toggle and, if not\n   *     available, the `main` element instead.\n   */\n  if (isOpen) {\n    // Close other open drawers if there are any. Effectively, this allows only one drawer to be open at a time.\n    const openDrawers = document.getElementsByClassName(DRAWER_OPEN_CLASS);\n    [...openDrawers]\n      .filter((openDrawer) => openDrawer !== drawer)\n      .forEach((openDrawer) => toggleDrawer(openDrawer, false));\n\n    (() => {\n      let rafRetriesRemaining = 100; // In case something goes wrong prevent falling into an infinite loop.\n\n      // Use `requestAnimationFrame` to wait until drawer becomes visible and focusable.\n      window.requestAnimationFrame(function focusDrawer() {\n        const isDrawerVisible = window.getComputedStyle(drawer).visibility === 'visible';\n\n        if (isDrawerVisible) {\n          drawer.focus();\n        } else if (rafRetriesRemaining > 0) {\n          rafRetriesRemaining -= 1;\n          window.requestAnimationFrame(focusDrawer);\n        }\n      });\n    })();\n  } else if (drawer.contains(document.activeElement)) {\n    const nextActiveElement = drawerToggles[0] || document.querySelector('main');\n    nextActiveElement?.focus({ preventScroll: true });\n  }\n\n  const event = isOpen ? 'nb-drawer:opened' : 'nb-drawer:closed';\n  drawer.dispatchEvent(new CustomEvent(event, { bubbles: true, cancelable: true }));\n};\n\n/**\n * Initialize custom Nautobot drawers mechanism.\n * @returns {void} Do not return any value, attach an event listener.\n */\nexport const initializeDrawers = () => {\n  // Using event delegation pattern here to avoid re-creating listeners each time DOM is modified.\n  document.addEventListener('nb-drawer:close', (event) => toggleDrawer(event.target, false));\n  document.addEventListener('nb-drawer:open', (event) => toggleDrawer(event.target, true));\n  document.addEventListener('nb-drawer:toggle', (event) => toggleDrawer(event.target));\n\n  document.addEventListener('nb-drawer:opened', (event) => {\n    if (event.target.id) {\n      const nextState = { ...window.history?.state, drawer: event.target.id };\n      const url = `${window.location.pathname}${window.location.search}${window.location.hash}`;\n      window.history?.replaceState(nextState, '', url);\n    }\n  });\n\n  document.addEventListener('nb-drawer:closed', () => {\n    // eslint-disable-next-line no-unused-vars\n    const { drawer, ...restState } =\n      typeof window.history?.state === 'object' && window.history.state !== null ? window.history.state : {};\n    const nextState = Object.keys(restState).length > 0 ? restState : null;\n    const url = `${window.location.pathname}${window.location.search}${window.location.hash}`;\n    window.history?.replaceState(nextState, '', url);\n  });\n\n  document.addEventListener('click', (event) => {\n    const dismiss = event.target.closest('[data-nb-dismiss]');\n    const toggle = event.target.closest('[data-nb-toggle]');\n\n    if (dismiss?.dataset.nbDismiss === 'drawer') {\n      const drawer = dismiss.closest(`.${DRAWER_CLASS}`);\n      drawer?.dispatchEvent(new CustomEvent(`nb-drawer:close`, { bubbles: true, cancelable: true }));\n    } else if (toggle?.dataset.nbToggle === 'drawer') {\n      const drawer = document.querySelector(toggle.dataset.nbTarget);\n      drawer?.dispatchEvent(new CustomEvent(`nb-drawer:toggle`, { bubbles: true, cancelable: true }));\n    }\n  });\n\n  if (window.history?.state?.drawer) {\n    document\n      .getElementById(window.history.state.drawer)\n      ?.dispatchEvent(new CustomEvent('nb-drawer:open', { bubbles: true, cancelable: true }));\n  }\n};\n","const SESSION_STORAGE_KEY = 'historyState';\n\n/**\n * Load last saved history state from `sessionStorage`.\n *\n * *The idea behind this and `saveState` function below is to be able to maintain history state between history entries\n * separated by a full document reload caused by navigation or form submission. Browsers do not export any native API\n * to manage history state in said scenario, so the workaround is to call `saveState` before full document reload and\n * then `loadState` after the document is loaded back again. `saveState` must be called on demand by arbitrary logic,\n * whereas `loadState` is executed automatically by the main `nautobot.js` script and should not be called manually.*\n *\n * @returns {void} Do not return any value, update current history entry with last saved state instead.\n */\nexport const loadState = () => {\n  const state = (() => {\n    try {\n      const item = window.sessionStorage?.getItem(SESSION_STORAGE_KEY);\n      return item ? JSON.parse(item) : undefined;\n      // eslint-disable-next-line no-unused-vars\n    } catch (exception) {\n      return undefined;\n    }\n  })();\n\n  if (state !== undefined) {\n    const url = `${window.location.pathname}${window.location.search}${window.location.hash}`;\n    window.history?.replaceState(state, '', url);\n    window.sessionStorage?.removeItem(SESSION_STORAGE_KEY);\n  }\n};\n\n/**\n * Save given state, or current history entry state if not explicitly passed, into `sessionStorage`.\n *\n * *The idea behind this and `loadState` function above is to be able to maintain history state between history entries\n * separated by a full document reload caused by navigation or form submission. Browsers do not export any native API\n * to manage history state in said scenario, so the workaround is to call `saveState` before full document reload and\n * then `loadState` after the document is loaded back again. `saveState` must be called on demand by arbitrary logic,\n * whereas `loadState` is executed automatically by the main `nautobot.js` script and should not be called manually.*\n *\n * @param {object|null} [state] - Optional `state` object to be saved; current history entry state will be used if\n *   `state` is not explicitly passed. Use `null` to remove history state from `sessionStorage`.\n * @returns {void} Do not return any value, save current history entry state into `sessionStorage` instead.\n */\nexport const saveState = (state) => {\n  const stateToSave = state === undefined ? window.history?.state : state;\n\n  if (stateToSave !== undefined) {\n    window.sessionStorage?.setItem(SESSION_STORAGE_KEY, JSON.stringify(stateToSave));\n  }\n};\n","/**\n * This function is heavily inspired by React `createElement`. Its purpose is to remove some boilerplate code otherwise\n * required for creating new HTML elements.\n * @example\n * // Create `row` and `col` elements with a valid parent-child relationship.\n * const child = createElement('div', { className: 'col' });\n * const parent = createElement('div', { className: 'row' }, child);\n * @param {string} tag - HTML element tag name to be passed to `document.createElement` function.\n * @param {object} [attributes={}] - Object containing HTML element attributes to be set on newly created HTML element.\n *   `class` attribute is a special case in which `className` property name can be optionally used in order to avoid\n *   ambiguation with JavaScript reserved `class` keyword.\n * @param {(HTMLElement|string)} [children] - HTML elements or string values to become newly created element children.\n * @returns {HTMLElement} New HTML element. Append it to an existing DOM node if you want it to appear in browser.\n */\nexport const createElement = (tag, attributes = {}, ...children) => {\n  const element = document.createElement(tag);\n\n  Object.entries(attributes).forEach(([attribute, value]) =>\n    element.setAttribute(attribute === 'className' ? 'class' : attribute, value),\n  );\n\n  children.forEach((child) =>\n    typeof child === 'string' ? element.insertAdjacentText('beforeend', child) : element.appendChild(child),\n  );\n\n  return element;\n};\n\n/**\n * Remove all classes from given element, optionally excluding some explicitly.\n * @example\n * // Remove all classes except `container-fluid` from given element.\n * removeElementClasses(element, 'container-fluid');\n * @param {HTMLElement} element - HTML element which classes are to be removed.\n * @param {string} [ignore] - Classes to ignore during class removal, i.e. should be left as-is.\n * @returns {void} Do not return any value, modify existing HTML element in-place.\n */\nexport const removeElementClasses = (element, ...ignore) =>\n  [...element.classList.entries()]\n    .filter(([, className]) => !ignore.includes(className))\n    .forEach(([, className]) => element.classList.remove(className));\n\n/**\n * Convert `px` pixel value to `rem` units.\n * @example\n * // Convert `20` (`px`) to `rem`, return `1.25` (`rem`).\n * rem(20);\n * @param {number} px - Pixel value.\n * @returns {number} Given pixel value converted to `rem` units.\n */\nexport const rem = (px) => {\n  const rootFontSize = window.getComputedStyle(document.documentElement).fontSize;\n  return px / parseInt(rootFontSize, 10);\n};\n","import { createElement, rem } from './utils.js';\n\nconst FORM_CONTROL_PADDING_X = rem(12);\nconst GAP = rem(6);\nconst ICON_SIZE = rem(20);\n\nconst BASE_SEARCH_INPUT_PADDING_X = `${FORM_CONTROL_PADDING_X + ICON_SIZE + GAP}rem`;\n\nconst MAX_BADGE_COUNT = 1;\n\nexport const initializeSearch = () => {\n  const headerSearch = document.getElementById('header_search');\n\n  // Do nothing and `return` early when there is no `#header_search` element in the page.\n  if (!headerSearch) {\n    return () => {};\n  }\n\n  const NAV_MENU = (() => {\n    try {\n      const navMenu = document.getElementById('nav_menu');\n      return navMenu ? JSON.parse(navMenu.textContent) : {};\n      // eslint-disable-next-line no-unused-vars\n    } catch (exception) {\n      return {};\n    }\n  })();\n\n  /*\n   * Pick only the lowest level of nested `nav_menu` object. In TypeScript, it would be manifested as the following type:\n   * `{ [item_link: string]: { name: string; weight: number } };`.\n   */\n  const SEARCHABLE_MODELS = Object.fromEntries(\n    Object.entries(NAV_MENU.tabs).flatMap(([, tab_details]) =>\n      Object.entries(tab_details.groups).flatMap(([, group_details]) =>\n        Object.entries(group_details.items).map(([item_link, item_details]) => [item_link, item_details]),\n      ),\n    ),\n  );\n\n  const BADGE_REG_EXP = new RegExp(\n    `^\\\\s*in\\\\s*:\\\\s*(${Object.entries(SEARCHABLE_MODELS)\n      // Extend simple vanilla model name match with more word delimiter variants (or no word delimiters at all).\n      .flatMap(([, { name }]) => [name, ...['', '_', '\\\\-'].map((delimiter) => name.replace(/\\s+/g, delimiter))])\n      .join('|')})\\\\s+`,\n    'i',\n  );\n\n  const headerSearchInput = headerSearch.querySelector('input');\n\n  const closeSearchPopup = () => {\n    const searchPopup = document.getElementById('search_popup');\n\n    if (searchPopup) {\n      searchPopup.remove();\n      document.body.classList.toggle('overflow-y-hidden', false);\n    }\n  };\n\n  // Focus search input on Cmd+K or Ctrl+K shortcut and close search popup on Escape.\n  const onKeyDown = (event) => {\n    const isPressedCmd = event.getModifierState?.('Meta');\n    const isPressedCtrl = event.ctrlKey;\n\n    if ((isPressedCmd || isPressedCtrl) && event.key === 'k') {\n      event.preventDefault();\n      headerSearchInput.focus();\n    } else if (event.key === 'Escape') {\n      closeSearchPopup();\n    }\n  };\n\n  document.addEventListener('keydown', onKeyDown);\n\n  const openSearchPopup = () => {\n    const searchPopup = document.getElementById('search_popup');\n\n    // Just focus an existing search popup `input` and `return` early if `#searchPopup` is already open.\n    if (searchPopup) {\n      const input = searchPopup.querySelector('input');\n      input?.focus();\n      input?.setSelectionRange(-1, -1);\n      return;\n    }\n\n    document.body.classList.toggle('overflow-y-hidden', true);\n\n    const { left: mainLeft = 0, right: mainRight = 0 } = document.querySelector('main')?.getBoundingClientRect() ?? {};\n    const { top: headerSearchInputTop } = headerSearchInput.getBoundingClientRect();\n\n    const icon = createElement('span', {\n      'aria-hidden': 'true',\n      className:\n        'mdi mdi-magnify d-inline-flex ms-12 mt-6 pe-none position-absolute start-0 text-secondary top-0 user-select-none',\n      style: `height: ${ICON_SIZE}rem; width: ${ICON_SIZE}rem;`,\n    });\n\n    const badges = createElement('span', {\n      className: 'd-inline-flex gap-6 left-0 my-6 position-absolute top-0',\n      style: `left: ${BASE_SEARCH_INPUT_PADDING_X};`,\n    });\n\n    const input = createElement('input', {\n      className: 'form-control w-100',\n      name: 'q',\n      required: 'true',\n      style: `padding-inline: ${BASE_SEARCH_INPUT_PADDING_X};`,\n      type: 'search',\n      value: headerSearchInput.value,\n    });\n\n    const clear = createElement(\n      'button',\n      {\n        className: `btn mdi mdi-close bg-transparent border-0 end-0 hstack justify-content-center me-12 mt-6 p-0 position-absolute text-secondary top-0 nb-transition-base${input.value === '' ? ' invisible opacity-0' : ''}`,\n        style: `height: ${ICON_SIZE}rem; width: ${ICON_SIZE}rem;`,\n        type: 'button',\n      },\n      createElement('span', { className: 'visually-hidden' }, 'Clear'),\n    );\n\n    clear.addEventListener('click', () => {\n      input.value = '';\n      input.dispatchEvent(new InputEvent('input'));\n      input.focus();\n    });\n\n    input.addEventListener('input', () => {\n      const shouldHideClear = input.value === '';\n      clear.classList.toggle('invisible', shouldHideClear);\n      clear.classList.toggle('opacity-0', shouldHideClear);\n    });\n\n    const submit = createElement('input', { className: 'd-none', type: 'submit' });\n\n    const form = createElement(\n      'form',\n      { action: headerSearch.getAttribute('action'), className: 'position-relative w-100', role: 'search' },\n      icon,\n      badges,\n      input,\n      clear,\n      submit,\n    );\n\n    /* In case there is no badge, use global search. Otherwise, navigate to badge specific model list view. */\n    form.addEventListener('submit', () => {\n      const badge = form.querySelector('[data-nb-link]:last-child');\n\n      if (badge) {\n        form.setAttribute('action', badge.dataset.nbLink);\n      }\n    });\n\n    const results = createElement('div');\n\n    const popup = createElement(\n      'div',\n      { className: 'mx-auto w-100', style: `max-width: ${rem(720)}rem;` },\n      form,\n      results,\n    );\n\n    const overlay = createElement(\n      'div',\n      {\n        className: 'overflow-auto pb-20 position-fixed top-0 end-0 bottom-0 start-0 nb-z-modal-backdrop',\n        id: 'search_popup',\n        role: 'dialog',\n        style: `background-color: rgba(0, 0, 0, .5); padding-block-start: ${headerSearchInputTop}px; padding-inline-start: calc(${mainLeft}px + ${rem(20)}rem); padding-inline-end: calc(100% - ${mainRight}px + ${rem(20)}rem);`,\n      },\n      popup,\n    );\n\n    // Close search popup on direct overlay click.\n    overlay.addEventListener('click', (event) => {\n      if (event.target === overlay) {\n        closeSearchPopup();\n      }\n    });\n\n    document.body.appendChild(overlay);\n\n    const addBadge = (link) => {\n      const name = Object.entries(SEARCHABLE_MODELS).find(([item_link]) => item_link === link)?.[1]?.name ?? link;\n\n      const removeButton = createElement(\n        'button',\n        { type: 'button' },\n        createElement('span', { 'aria-hidden': 'true', class: 'mdi mdi-close' }),\n        createElement('span', { class: 'visually-hidden' }, 'Remove'),\n      );\n\n      const badge = createElement(\n        'span',\n        { className: 'badge border', 'data-nb-link': link },\n        `in: ${name}`,\n        removeButton,\n      );\n\n      removeButton.addEventListener('click', () => {\n        badge.remove();\n        input.focus();\n      });\n\n      // Before adding a new badge, remove existing badges with the same `link` to prevent duplicates.\n      [...badges.querySelectorAll(`[data-nb-link=\"${link}\"]`)].forEach((existing) => existing.remove());\n\n      badges.appendChild(badge);\n\n      // Obey the `MAX_BADGE_COUNT` constraint.\n      [...badges.children].slice(0, -1 * MAX_BADGE_COUNT).forEach((child) => child.remove());\n    };\n\n    // Recalculate search input left padding when badges container size changes, i.e. a badge is added or removed.\n    const resizeObserver = new ResizeObserver(() => {\n      const { width } = badges.getBoundingClientRect();\n      input.style.paddingInlineStart = width\n        ? `calc(${BASE_SEARCH_INPUT_PADDING_X} + ${width}px + ${GAP}rem)`\n        : BASE_SEARCH_INPUT_PADDING_X;\n    });\n\n    resizeObserver.observe(badges);\n\n    input.addEventListener('input', () => {\n      const match = input.value.match(BADGE_REG_EXP);\n\n      if (match) {\n        const [phrase, model] = match;\n\n        const normalize = (text) =>\n          text\n            .trim()\n            .toLowerCase()\n            .replace(/\\s|_|-/g, '');\n        const link = Object.entries(SEARCHABLE_MODELS).find(\n          ([, { name }]) => normalize(name) === normalize(model),\n        )?.[0];\n\n        if (link) {\n          // Remove phrase that matched the badge-specific regular expression and replace it with a corresponding badge.\n          input.value = input.value.replace(phrase, '');\n          input.dispatchEvent(new InputEvent('input'));\n          addBadge(link);\n        }\n      }\n    });\n\n    // Remove the first badge on the right-hand side when `'Backspace'` key is pressed on the input start position.\n    input.addEventListener('keydown', (event) => {\n      const isBackspace = event.key === 'Backspace';\n      const isInputStart = input.selectionEnd === 0 && input.selectionStart === 0;\n\n      if (isBackspace && isInputStart) {\n        badges.querySelector(':last-child')?.remove();\n      }\n    });\n\n    // When search popup is open, copy existing badges from `#header_search` to search popup input.\n    headerSearch.querySelectorAll('[data-nb-link]').forEach((badge) => addBadge(badge.dataset.nbLink));\n\n    // Automatically focus search popup input when opened and move cursor to the end of input field.\n    input.focus();\n    input.setSelectionRange(-1, -1);\n  };\n\n  headerSearchInput.addEventListener('focus', openSearchPopup);\n\n  return () => {\n    closeSearchPopup();\n    document.removeEventListener('keydown', onKeyDown);\n    headerSearchInput.removeEventListener('focus', openSearchPopup);\n  };\n};\n","const INPUT_ID_TO_VALUE_REGEXP = /_option_(?<value>.*)$/;\nconst LIST_CLASS = 'nb-select-multiple-orderable-list';\n\n/**\n * Initialize Nautobot `SelectMultipleOrderable` form fields to synchronize their widget list state with the underlying\n * `<select>` field.\n * @returns {function(): void} Unobserve function - disconnect all event listeners created during function call.\n */\nexport const initializeSelectMultipleOrderable = () => {\n  /**\n   * Map `<input type=\"checkbox\">` `checked` states to `<option>` `selected` states of the underlying `<select>`\n   * combobox.\n   * @param {Event} event - Event object.\n   */\n  const onInput = (event) => {\n    const input = event.target;\n    const list = input.closest(`.${LIST_CLASS}`);\n    if (list) {\n      const value = input.id?.match(INPUT_ID_TO_VALUE_REGEXP)?.groups?.value;\n      if (value) {\n        const select = list.previousElementSibling;\n        const option = select.querySelector(`[value=\"${value}\"]`);\n        option.selected = input.checked;\n      }\n    }\n  };\n\n  // Using event delegation pattern here to avoid re-creating listeners each time DOM is modified.\n  document.addEventListener('input', onInput);\n\n  return () => {\n    document.removeEventListener('input', onInput);\n  };\n};\n","import get from 'lodash.get';\n\n/**\n * Get HTML `element`. This function accepts input as native `Document` and `Element` object and `jQuery` collection.\n * It should no longer be required after migrating away from jQuery.\n * @param {Document|Element|jQuery} `element` - `element` in question.\n * @returns {Document|Element} Native `element` object.\n */\nconst getElement = (element) => (element instanceof Document || element instanceof Element ? element : element[0]);\n\n/**\n * Get `select` element value.\n * @param {HTMLSelectElement} select - `select` element in question.\n * @returns {string|string[]} `string` value for single combobox, an array of `string` values for multiple combobox.\n */\nconst getValue = (select) =>\n  select?.getAttribute('multiple') === null ? select?.value : [...select.selectedOptions].map((option) => option.value);\n\n/**\n * Set Select2 combobox value(s).\n * @param {HTMLSelectElement} select2 - Select2 combobox HTML element.\n * @param {{ text: string, value: string }[]|null} value - Array of objects containing `text` and `value` key-value\n *   pairs; `null` to reset the field value.\n */\nexport const setSelect2Value = (select2, value) => {\n  $(select2).val(null);\n\n  (value ?? []).forEach((attributes) => {\n    if (!select2.querySelector(`option[value=\"${attributes.value}\"]`)) {\n      const option = document.createElement('option');\n      option.innerText = attributes.text;\n      option.setAttribute('selected', 'true');\n      option.setAttribute('value', attributes.value);\n      select2.appendChild(option);\n    }\n  });\n\n  const nextValue = (() => {\n    if (value.length > 0) {\n      const isMultiple = select2?.getAttribute('multiple') !== null;\n      return isMultiple ? value.map((attributes) => attributes.value) : value?.[0]?.value;\n    }\n\n    return null;\n  })();\n\n  $(select2).val(nextValue).trigger('change');\n};\n\n/**\n * Parse URLs which may contain variable references to other field values.\n * @param {string} url - URL template string.\n * @returns {string} URL with interpolated dynamic values.\n */\nconst parseURL = (url) => {\n  const filter_regex = /\\{\\{([a-z_]+)}}/g;\n\n  let match; // eslint-disable-line init-declarations\n  let rendered_url = url;\n\n  while ((match = filter_regex.exec(url))) {\n    const filter_field = document.querySelector(`#id_${match[1]}`);\n    const custom_attribute = filter_field?.selectedOptions?.[0]?.getAttribute('api-value');\n    const replace =\n      custom_attribute || filter_field.value || (filter_field.getAttribute('data-null-option') ? 'null' : undefined);\n\n    rendered_url = replace ? rendered_url.replace(match[0], replace) : rendered_url;\n  }\n\n  return rendered_url;\n};\n\n/**\n * Initialize given Select2 components in passed `context` by `selector`, optionally with `options`.\n * @param {Document|Element|jQuery} context - Context root element.\n * @param {string} selector - CSS query selector of `select` elements to be initialized as Select2 components.\n * @param {object} [options] - Optional Select2 components initialization options.\n * @returns {void} Do not return any value, just initialize given Select2 components.\n */\nconst initializeSelect2 = (context, selector, options) =>\n  [...getElement(context).querySelectorAll(selector)].forEach((element) =>\n    $(element).select2({\n      allowClear: true,\n      placeholder: '---------',\n      selectionCssClass: 'select2--small',\n      theme: 'bootstrap-5',\n      width: 'off',\n      ...options,\n    }),\n  );\n\nconst initializeColorPicker = (context, dropdownParent = null) => {\n  // Assign color picker selection classes.\n  const colorPickerClassCopy = (data, container) => {\n    if (data.element) {\n      // Swap the style.\n      const containerElement = getElement(container);\n      containerElement.setAttribute('style', data.element.getAttribute('style'));\n    }\n\n    return data.text;\n  };\n\n  initializeSelect2(context, '.nautobot-select2-color-picker', {\n    dropdownParent,\n    templateResult: colorPickerClassCopy,\n    templateSelection: colorPickerClassCopy,\n  });\n};\n\nconst initializeDynamicChoiceSelection = (context, dropdownParent = null) => {\n  initializeSelect2(context, '.nautobot-select2-api', {\n    ajax: {\n      data: function data(params) {\n        const [element] = this;\n\n        // Paging. Note that `params.page` indexes at 1.\n        const offset = (params.page - 1) * 50 || 0;\n\n        // Base query params.\n        const limit = 50;\n        const q = params.term;\n\n        // Get search query param name, defaults to `'q'`.\n        const search_field = element.getAttribute('search-field') || 'q';\n\n        // Set api_version.\n        const api_version = element.getAttribute('data-api-version');\n\n        // Allow for controlling the depth setting from within APISelect.\n        const depth = parseInt(element.getAttribute('data-depth'), 10) || 0;\n\n        // Attach content_type to parameters.\n        const content_type = element.getAttribute('data-contenttype');\n\n        // Attach any extra query parameters\n        const extra_query_parameters_array = [...element.attributes]\n          .filter((attribute) => attribute.name.includes('data-query-param-'))\n          .flatMap((attribute) => {\n            const [, param_name] = attribute.name.split('data-query-param-');\n\n            const values = (() => {\n              try {\n                return JSON.parse(attribute.value);\n                // eslint-disable-next-line no-unused-vars\n              } catch (exception) {\n                return [];\n              }\n            })();\n\n            return values.flatMap((value) => {\n              const has_ref_field = value.startsWith('$');\n\n              // Referencing the value of another form field.\n              const ref_field = has_ref_field\n                ? (() => {\n                    const name = value.slice(1);\n\n                    if (element.id.includes('id_form-')) {\n                      const [id_prefix] = element.id.match(/id_form-[0-9]+-/i, '');\n                      return document.querySelector(`#${id_prefix}${name}`);\n                    }\n\n                    /*\n                     * If the element is in a table row with a class containing \"dynamic-formset\" we need to find the\n                     * reference field in the same row.\n                     */\n                    if (element.closest('tr')?.classList.contains('dynamic-formset')) {\n                      return element.closest('tr').querySelector(`select[id*=\"${name}\"]`);\n                    }\n\n                    return document.querySelector(`#id_${name}`);\n                  })()\n                : null;\n\n              const ref_field_value = ref_field\n                ? (() => {\n                    const field_value = getValue(ref_field);\n                    const style = window.getComputedStyle(ref_field);\n\n                    if (field_value && style.opacity !== '0' && style.visibility !== 'hidden') {\n                      return field_value;\n                    }\n\n                    if (ref_field.getAttribute('required') && ref_field.getAttribute('data-null-option')) {\n                      return 'null';\n                    }\n\n                    return undefined;\n                  })()\n                : null;\n\n              const param_value = has_ref_field ? ref_field_value : value;\n              if (Array.isArray(param_value)) {\n                return param_value.map((pv) => [param_name, pv]);\n              }\n              return param_value !== null && param_value !== undefined ? [[param_name, ref_field_value || value]] : [];\n            });\n          });\n\n        const parameters = [\n          ['depth', String(depth)],\n          ['limit', String(limit)],\n          ['offset', String(offset)],\n          ...(api_version ? [['api_version', api_version]] : []),\n          ...(content_type ? [['content_type', content_type]] : []),\n          ...(q ? [[search_field, q]] : []),\n          ...extra_query_parameters_array,\n        ];\n\n        // This will handle params with multiple values (i.e. for list filter forms).\n        return new URLSearchParams(parameters).toString();\n      },\n      delay: 500,\n      processResults: function processResults(data) {\n        const [element] = this.$element;\n        [...element.querySelectorAll('option')].forEach((child) => child.removeAttribute('disabled'));\n\n        const results = [\n          // Handle the null option, but only add it once.\n          ...(element.getAttribute('data-null-option') && data.previous === null\n            ? [{ id: 'null', text: element.getAttribute('data-null-option') }]\n            : []),\n          ...Object.values(\n            data.results.reduce((accumulator, record, index) => {\n              // The disabled-indicator equated to true, so we disable this option.\n              const disabled = Boolean(record?.[element.getAttribute('disabled-indicator')]);\n              const id = get(record, element.getAttribute('value-field')) || record.id;\n              const text = get(record, element.getAttribute('display-field')) || record.name;\n\n              const item = { ...record, disabled, id, text };\n              const { group, site, url } = item;\n\n              /*\n               * `DynamicGroupSerializer` has a `children` field which fits an inappropriate if condition in\n               * `select2.min.js`, which will result in the incorrect rendering of `DynamicGroup` `DynamicChoiceField`.\n               * So we nullify the field here since we do not need this field.\n               */\n              const should_nullify_children = Boolean(url?.includes('dynamic-groups'));\n\n              const collection = (() => {\n                switch (true) {\n                  case group !== undefined && group !== null && site !== undefined && site !== null:\n                    return { property: `${site.name}:${group.name}`, text: `${site.name} / ${group.name}` };\n\n                  case group !== undefined && group !== null:\n                    return { property: group.name, text: group.name };\n\n                  case site !== undefined && site !== null:\n                    return { property: site.name, text: site.name };\n\n                  case group === null && site === null:\n                    return { property: 'global', text: 'Global' };\n\n                  default:\n                    return undefined;\n                }\n              })();\n\n              return {\n                ...accumulator,\n                ...(collection\n                  ? {\n                      [collection.property]: {\n                        ...accumulator[collection.property],\n                        ...(accumulator[collection.property] ? undefined : { text: collection.text }),\n                        children: should_nullify_children\n                          ? undefined\n                          : [...(accumulator[collection.property]?.children ?? []), item],\n                      },\n                    }\n                  : { [index]: item }),\n              };\n            }, {}),\n          ),\n        ];\n\n        // Check if there are more results to page.\n        const has_next_page = data.next !== null;\n        return { pagination: { more: has_next_page }, results };\n      },\n      url: function url() {\n        const [element] = this;\n        const dataUrl = parseURL(element.getAttribute('data-url'));\n\n        // If URL is not fully rendered yet, abort the request.\n        return !dataUrl.includes('{{') && dataUrl;\n      },\n    },\n    dropdownParent,\n  });\n};\n\nconst initializeMultiValueChar = (context, dropdownParent = null) => {\n  initializeSelect2(context, '.nautobot-select2-multi-value-char', {\n    dropdownParent,\n    language: { noResults: () => 'Type something to add it as an option' },\n    multiple: true,\n    tags: true,\n    tokenSeparators: [','],\n  });\n\n  // Ensure pressing Enter in the Select2 search adds the current token instead of submitting the form\n  [...getElement(context).querySelectorAll('.nautobot-select2-multi-value-char')].forEach((element) => {\n    $(element).on('select2:open', () => {\n      const container = document.querySelector('.select2-container--open');\n      if (!container) {\n        return;\n      }\n      const search = container.querySelector('input.select2-search__field');\n      if (!search) {\n        return;\n      }\n\n      // Avoid stacking multiple handlers\n      if (search.getAttribute('data-enter-binds')) {\n        return;\n      }\n      search.setAttribute('data-enter-binds', '1');\n\n      search.addEventListener('keydown', (ev) => {\n        if (ev.key === 'Enter') {\n          ev.preventDefault();\n          ev.stopPropagation();\n          const val = search.value.trim();\n          if (!val) {\n            return;\n          }\n          const sel = $(element).get(0);\n          // If option doesn't exist, create it; otherwise select it\n          const found = Array.prototype.find.call(sel.options, (opt) => String(opt.value) === String(val));\n          if (found) {\n            found.selected = true;\n          } else {\n            sel.add(new Option(val, val, true, true));\n          }\n          // Clear the search box and notify Select2\n          search.value = '';\n          $(element).trigger('change');\n          // Close the dropdown so it doesn't linger after add\n          try {\n            $(element).select2('close');\n            // eslint-disable-next-line no-unused-vars\n          } catch (exception) {\n            // Intentional no-op\n          }\n        }\n      });\n    });\n  });\n};\n\nconst initializeStaticChoiceSelection = (context, dropdownParent = null) =>\n  initializeSelect2(context, '.nautobot-select2-static', { dropdownParent });\n\nexport const initializeSelect2Fields = (context) => {\n  initializeColorPicker(context);\n  initializeDynamicChoiceSelection(context);\n  initializeMultiValueChar(context);\n  initializeStaticChoiceSelection(context);\n\n  [...getElement(context).querySelectorAll('.modal')].forEach((modal) => {\n    initializeColorPicker(modal, modal);\n    initializeDynamicChoiceSelection(modal, modal);\n    initializeMultiValueChar(modal, modal);\n    initializeStaticChoiceSelection(modal, modal);\n  });\n};\n","/**\n * Get given cookie, based on MDN example: https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie#example_2_get_a_sample_cookie_named_test2\n * @param {string} name - Cookie name.\n * @returns {string|undefined} Cookie value.\n */\nexport const getCookie = (name) =>\n  document.cookie\n    .split('; ')\n    .find((cookie) => cookie.startsWith(`${name}=`))\n    ?.split('=')[1];\n\n/**\n * Set given cookie `value` with optional `options`.\n * @param {string} name - Cookie name.\n * @param {string} value - Cookie value.\n * @param {object} [options] - Cookie properties as key-value pairs, e.g. `path`, `expires`, etc.\n * @returns {void} Do not return any value, modify existing document cookies in-place.\n */\nexport const setCookie = (name, value, options) => {\n  const properties = { [name]: value, path: '/', ...options };\n  document.cookie = Object.entries(properties)\n    .map((entry) => entry.join('='))\n    .join(';');\n};\n\n/**\n * Remove given cookie.\n * @param {string} name - Cookie name.\n * @returns {void} Do not return any value, modify existing document cookies in-place.\n */\nexport const removeCookie = (name) => setCookie(name, '', { expires: 'Thu, 01 Jan 1970 00:00:00 GMT' });\n","import flatpickr from 'flatpickr';\nimport { getCookie, removeCookie, setCookie } from './cookie.js';\n\nconst SIDENAV_COLLAPSED_KEY = 'sidenav_collapsed';\n\n/**\n * Expand/collapse sidenav.\n * @returns {void} Do not return any value, modify existing HTML elements, cookies and localStorage in-place.\n */\nexport const toggleSidenav = () => {\n  const toggler = document.querySelector('.nb-sidenav-toggler');\n\n  const controls = toggler.getAttribute('aria-controls');\n  const expanded = toggler.getAttribute('aria-expanded') === 'true';\n\n  toggler.setAttribute('aria-expanded', String(!expanded));\n\n  const sidenav = document.getElementById(controls);\n  sidenav.classList.toggle('nb-sidenav-collapsed', expanded);\n\n  if (expanded) {\n    setCookie(SIDENAV_COLLAPSED_KEY, 'true');\n    window.localStorage?.setItem(SIDENAV_COLLAPSED_KEY, 'true');\n  } else {\n    removeCookie(SIDENAV_COLLAPSED_KEY);\n    window.localStorage?.removeItem(SIDENAV_COLLAPSED_KEY);\n  }\n};\n\n/**\n * Initialize sidenav mechanisms, i.e. expand/collapse, fly-outs, and optionally version control branch picker.\n * @returns {void} Do not return any value, attach event listeners.\n */\nexport const initializeSidenav = () => {\n  const toggler = document.querySelector('.nb-sidenav-toggler');\n\n  if (toggler) {\n    /*\n     * Check if sidenav expanded/collapsed initial state is valid. If not, amend it by calling `toggleSidenav()`. This\n     * should not happen due to template code properly handling the initial render, but we're being extra careful here.\n     */\n    const sidenavCollapsedInitialState =\n      getCookie(SIDENAV_COLLAPSED_KEY) ?? window.localStorage?.getItem(SIDENAV_COLLAPSED_KEY) ?? 'false';\n    const shouldToggleSidenav =\n      (sidenavCollapsedInitialState === 'true' && toggler.getAttribute('aria-expanded') === 'true') ||\n      (sidenavCollapsedInitialState === 'false' && toggler.getAttribute('aria-expanded') === 'false');\n    if (shouldToggleSidenav) {\n      toggleSidenav();\n    }\n\n    toggler.addEventListener('click', toggleSidenav);\n  }\n\n  [...document.querySelectorAll('.nb-sidenav-list-item:not(.nb-sidenav-list-item-flat)')].forEach((sidenavListItem) => {\n    sidenavListItem.addEventListener('click', () => {\n      const controls = sidenavListItem.getAttribute('aria-controls');\n      const expanded = sidenavListItem.getAttribute('aria-expanded') === 'true';\n\n      sidenavListItem.setAttribute('aria-expanded', String(!expanded));\n\n      const onClickDocument = (documentClickEvent) => {\n        const { target: documentClickTarget } = documentClickEvent;\n        const sidenavFlyout = document.getElementById(controls);\n\n        const isClickOutside =\n          !sidenavListItem.contains(documentClickTarget) && !sidenavFlyout.contains(documentClickTarget);\n\n        if (isClickOutside) {\n          sidenavListItem.setAttribute('aria-expanded', 'false');\n          document.removeEventListener('click', onClickDocument);\n        }\n      };\n\n      if (expanded) {\n        document.removeEventListener('click', onClickDocument);\n      } else {\n        document.addEventListener('click', onClickDocument);\n      }\n    });\n  });\n\n  const sidenavBranchPickerReturnUrl = document.querySelector('#sidenav-branch-picker-return-url');\n  if (sidenavBranchPickerReturnUrl) {\n    // Remove any existing version-control query params from the return URL as they would override the form action\n    const return_url = new URL(sidenavBranchPickerReturnUrl.value);\n    return_url.searchParams.delete('branch');\n    return_url.searchParams.delete('version_control_time_travel_date');\n    sidenavBranchPickerReturnUrl.value = return_url.toString();\n  }\n\n  const sidenavBranchPickerSelect = $('#sidenav-branch-picker-select');\n  sidenavBranchPickerSelect.on('change', (event) => event.currentTarget.form.submit());\n  sidenavBranchPickerSelect.on('select2:open', () => {\n    document.querySelector('.select2-dropdown').setAttribute('data-bs-theme', 'dark');\n    document.querySelector('.select2-dropdown .select2-search__field').setAttribute('placeholder', 'Find a branch...');\n  });\n\n  const sidenavTimeTravelReturnUrl = document.querySelector('#sidenav-timetravel-return-url');\n  if (sidenavTimeTravelReturnUrl) {\n    // Remove any existing version-control query params from the return URL as they would override the form action\n    const return_url = new URL(sidenavTimeTravelReturnUrl.value);\n    return_url.searchParams.delete('branch');\n    return_url.searchParams.delete('version_control_time_travel_date');\n    sidenavTimeTravelReturnUrl.value = return_url.toString();\n  }\n\n  const sidenavTimeTravelPickerInput = document.querySelector('#sidenav-timetravel-picker');\n  if (sidenavTimeTravelPickerInput) {\n    flatpickr(sidenavTimeTravelPickerInput, {\n      allowInput: true,\n      maxDate: 'today',\n      onChange: (_selectedDates, dateStr, instance) => {\n        instance.input.blur();\n        document.querySelector('#timetravel-cancel').classList.toggle('d-none', !dateStr);\n        instance.input.form.submit();\n      },\n      onReady: (_selectedDates, dateStr) => {\n        document.querySelector('#timetravel-cancel').classList.toggle('d-none', !dateStr);\n      },\n      wrap: true,\n    });\n  }\n};\n","import * as bootstrap from 'bootstrap';\nimport { createElement, removeElementClasses } from './utils.js';\n\nconst TABS_HIDDEN_CLASSES = ['invisible', 'position-absolute'];\n\n/**\n * Collapse wrapped tabs to dropdown menu in given tab container.\n * @param {HTMLElement} tabs - Tab container HTML element.\n * @returns {void} Do not return any value, modify DOM instead.\n */\nexport const collapseTabs = (tabs) => {\n  const tabsParent = tabs.parentNode;\n\n  // Remove existing tab clones to prevent duplicates because they will be created from scratch below if needed.\n  [...tabsParent.querySelectorAll('.nav.nav-tabs[data-clone=\"true\"]')].forEach((tabsClone) => tabsClone.remove());\n\n  // For safety, do not operate on original tabs element, deep clone tabs to operate on its clone instead.\n  const tabsClone = tabs.cloneNode(true);\n\n  // Remove `id` element attribute from cloned tabs element to avoid potential `id` conflicts.\n  tabsClone.removeAttribute('id');\n\n  // Set `data-clone` attribute to `\"true\"` on tabs clone element to be able to easily distinguish it from the original.\n  tabsClone.dataset.clone = 'true';\n\n  /*\n   * Add following classes to cloned element to:\n   *   1. Make tabs span across the whole required width without wrapping.\n   *   2. Force them to be (temporarily) invisible.\n   */\n  const tabsCloneTemporaryClasses = ['flex-nowrap', 'invisible', 'position-absolute', 'z-n1'];\n  tabsClone.classList.add(...tabsCloneTemporaryClasses);\n\n  // Append currently invisible cloned tabs to DOM right after the original tabs element.\n  if (tabs.nextSibling) {\n    tabsParent.insertBefore(tabsClone, tabs.nextSibling);\n  } else {\n    tabsParent.appendChild(tabsClone);\n  }\n  // Excessive tabs should be collapsed if tabs clone is wider than the original. Remember - clone does not wrap.\n  const shouldCollapseTabs = () => tabsClone.getBoundingClientRect().width > tabs.getBoundingClientRect().width;\n\n  // If there is no need to collapse tabs, show original tabs (if previously hidden) clean up tabs clone and `return` early.\n  if (!shouldCollapseTabs()) {\n    tabs.classList.remove(...TABS_HIDDEN_CLASSES);\n    tabsParent.removeChild(tabsClone);\n    return;\n  }\n\n  /*\n   * Compose dropdown element. Ignore dropdown items for now, they will be added to the dropdown menu soon anyway. The\n   * most important thing about this step is to append dropdown with visible toggle button at the end of cloned tabs\n   * list to reach maximum width (dropdown toggle has considerable size too) before starting to actually collapse tabs.\n   */\n  const dropdownMenu = createElement('ul', { className: 'dropdown-menu dropdown-menu-end' });\n  const dropdownToggleIcon = createElement('span', { className: 'mdi mdi-menu' });\n  const dropdownToggleLabel = createElement('span', { className: 'visually-hidden' }, 'Toggle Dropdown');\n  const dropdownToggle = createElement(\n    'button',\n    {\n      'aria-expanded': 'false',\n      className: 'btn dropdown-toggle text-secondary',\n      'data-bs-toggle': 'dropdown',\n      type: 'button',\n    },\n    dropdownToggleIcon,\n    dropdownToggleLabel,\n  );\n  const dropdown = createElement(\n    'li',\n    { className: 'dropdown flex-grow-1 mb-n1 text-end' },\n    dropdownToggle,\n    dropdownMenu,\n  );\n  tabsClone.appendChild(dropdown);\n\n  /*\n   * Identify tabs that require collapsing by taking out one by one from the right-hand side until tabs width can fit\n   * inside its parent container. Essentially, overflowing tabs are moved from tab list to future dropdown menu.\n   */\n  const collapsedTabs = [];\n  while (shouldCollapseTabs()) {\n    const lastTab = dropdown.previousElementSibling; // With dropdown appended to DOM, its previous siblings are tabs.\n    collapsedTabs.unshift(lastTab); // Use `unshift` instead of `push` because this loop is iterating backward in a sense.\n    tabsClone.removeChild(lastTab);\n  }\n\n  /*\n   * Properly convert collapsed tabs to dropdown items:\n   *   1. Remove all `<li>` `nav-item` element classes.\n   *   2. Remove all `<a>` `nav-link` element classes other than `active` and `disabled` to maintain valid tab state.\n   *   3. Add `dropdown-item` class to `<a>` element (formerly `nav-link`).\n   *   4. Append collapsed tab to dropdown menu.\n   */\n  collapsedTabs.forEach((collapsedTab) => {\n    removeElementClasses(collapsedTab);\n\n    [...collapsedTab.children].forEach((navLink) => {\n      removeElementClasses(navLink, 'active', 'disabled');\n      navLink.classList.add('dropdown-item', 'justify-content-between');\n    });\n\n    dropdownMenu.appendChild(collapsedTab);\n  });\n\n  /*\n   * Tabs clone with collapsed tabs is now ready to be swapped with original. The only thing left to do is to\n   * make it synchronize its state back to the original.\n   */\n  [...tabsClone.querySelectorAll('a')].forEach((clonedTab) => {\n    clonedTab.addEventListener('shown.bs.tab', () => {\n      const originalTab = tabs.querySelector(`a[href=\"${clonedTab.getAttribute('href')}\"]`);\n      const originalTabInstance = bootstrap.Tab.getInstance(originalTab) || new bootstrap.Tab(originalTab);\n      originalTabInstance.show();\n    });\n  });\n\n  // Swap tabs clone with the original, in other words swap wrapped tabs with collapsed tabs.\n  tabs.classList.add(...TABS_HIDDEN_CLASSES);\n  tabsClone.classList.remove(...tabsCloneTemporaryClasses);\n};\n\n/**\n * Observe size changes of all tab containers on the page and collapse tabs inside of them if they wrap.\n * @example\n * // Run `collapseTabs` algorithm for all tabs on the page exactly once, i.e. observe and immediately unobserve.\n * const unobserveCollapseTabs = observeCollapseTabs();\n * unobserveCollapseTabs();\n * @returns {function(): void} Unobserve function - disconnect all resize observers created during function call.\n */\nexport const observeCollapseTabs = () => {\n  const resizeObservers = [...document.querySelectorAll('.nav.nav-tabs')].map((tabs) => {\n    const resizeObserver = new ResizeObserver(() => collapseTabs(tabs));\n    resizeObserver.observe(tabs);\n    return resizeObserver;\n  });\n\n  return () => resizeObservers.forEach((resizeObserver) => resizeObserver.disconnect());\n};\n","import { Modal } from 'bootstrap';\nimport { getCookie, setCookie } from './cookie.js';\n\nconst THEME_MODAL_ID = 'theme_modal';\n\nconst THEME_DARK = 'dark';\nconst THEME_LIGHT = 'light';\nconst THEME_SYSTEM = 'system';\n\nconst THEME_CHOICE_COOKIE_NAME = 'theme_choice';\nconst THEME_DETERMINED_COOKIE_NAME = 'theme';\n\n/**\n * Check if given `theme_choice` is a valid theme choice, i.e. `'dark'`, `'light'`, or `'system'`:\n * - 'dark' for always dark mode\n * - 'light' for always light mode\n * - 'system' to follow the system/browser preference, getPreferredColorScheme() will determine actual theme\n * @param {string} theme_choice - Choice in question.\n * @returns {boolean} `true` is given `theme_choice` is a valid Nautobot theme, `false` otherwise.\n */\nconst isValidThemeChoice = (theme_choice) => [THEME_DARK, THEME_LIGHT, THEME_SYSTEM].includes(theme_choice);\n\n/**\n * Get preferred system color scheme from browser/OS settings.\n * @returns {('dark'|'light')} Preferred system color scheme.\n */\nconst determineBrowserPreference = () =>\n  window.matchMedia?.(`(prefers-color-scheme: ${THEME_DARK})`).matches ? THEME_DARK : THEME_LIGHT;\n\n/**\n * Determine the effective theme to be used.\n * @returns {('dark'|'light')} The effective theme.\n */\nconst determineTheme = () => {\n  const current_theme_choice = getCookie(THEME_CHOICE_COOKIE_NAME);\n  if ([THEME_DARK, THEME_LIGHT].includes(current_theme_choice)) {\n    // An explicit choice of dark or light mode.\n    return current_theme_choice;\n  }\n  // Follow the system/browser preference by default ('system' choice or invalid choice).\n  return determineBrowserPreference();\n};\n\n/**\n * Persist the user's theme choice in cookie.\n * @param {('dark'|'light'|'system')} theme - The user's theme choice.\n * @returns {void} Do not return any value\n */\nconst persistThemeChoice = (theme) => {\n  if (isValidThemeChoice(theme)) {\n    setCookie(THEME_CHOICE_COOKIE_NAME, theme, { 'max-age': 31536000, path: '/' }); // 1 year\n  }\n};\n\n/**\n * Handle syntax highlighter theme change.\n * @param {('dark'|'light')} theme - The effective theme.\n * @returns {void} Do not return any value\n */\nconst handleSyntaxHighlighterThemeChange = (theme) => {\n  // Since the syntax highlighter stylesheet is loaded via a <link> tag, we need to swap out the href to change themes.\n  // The best fix would be to have both stylesheets loaded and use media queries to switch between them, similar to how we do for the main Nautobot theme.\n  const highlighterLinks = document.querySelectorAll('link[rel=\"stylesheet\"][href*=\"github\"]');\n  if (highlighterLinks.length === 1) {\n    // We send two stylesheets on the initial page with media queries, but after that only one is present which we need to swap out.\n    const [syntaxLinkElement] = highlighterLinks;\n    const css_file = theme === THEME_DARK ? 'github-dark.min.css' : 'github.min.css';\n    syntaxLinkElement.href = syntaxLinkElement.href.replace(/github(-dark)?\\.min\\.css/, css_file);\n  }\n};\n\n/**\n * Handle Echarts theme change.\n * @param {('dark'|'light')} theme - The effective theme.\n * @returns {void} Do not return any value\n */\nconst handleEchartsThemeChange = (theme) => {\n  // If using Echarts, we need to update the theme there as well.\n  const echart_instances = document.querySelectorAll('div[_echarts_instance_]');\n  echart_instances?.forEach((instance) => {\n    const options = JSON.parse(document.getElementById(`echarts-config-${instance.id}`).textContent);\n    const colors = Array.isArray(options.color)\n      ? options.color.map((colorObj) => colorObj?.[theme] || colorObj?.light || colorObj)\n      : options.color;\n    window.echarts.getInstanceByDom(instance)?.setOption({\n      color: colors,\n      darkMode: theme === THEME_DARK,\n    });\n  });\n};\n\n/**\n * Set Nautobot theme.\n * @param {('dark'|'light'|'system'|null)} theme - Nautobot theme to be set. If `null`, determine theme based on existing user choice or system preference.\n * @returns {void} Do not return any value, set given `theme` and save it into a persistent store if `manual` is `true`.\n */\nconst setTheme = (theme = null) => {\n  if (theme !== null && isValidThemeChoice(theme)) {\n    // An explicit theme was provided, so we persist the choice.\n    persistThemeChoice(theme);\n  }\n  const current_theme_choice = getCookie(THEME_CHOICE_COOKIE_NAME); // The user's choice for the purpose of button highlighting.\n  const determined_theme = determineTheme(); // The effective theme to be applied.\n\n  // Persist the determined theme for server-side rendering purposes.\n  setCookie(THEME_DETERMINED_COOKIE_NAME, determined_theme, { 'max-age': 31536000, path: '/' }); // 1 year\n\n  const modal = document.getElementById(THEME_MODAL_ID);\n  const buttons = modal?.querySelectorAll('button[data-nb-theme]') ?? [];\n\n  buttons.forEach((button) =>\n    ['border', 'border-primary'].forEach((className) =>\n      button.classList.toggle(className, button.dataset.nbTheme === current_theme_choice),\n    ),\n  );\n\n  document.documentElement.dataset.theme = determined_theme;\n  document.documentElement.dataset.bsTheme = determined_theme;\n\n  handleSyntaxHighlighterThemeChange(determined_theme);\n  handleEchartsThemeChange(determined_theme);\n\n  if (determined_theme === THEME_DARK) {\n    [...document.getElementsByTagName('object')].forEach((object) => {\n      object.addEventListener('load', (event) => {\n        if (event.target.contentDocument) {\n          const images = event.target.contentDocument.getElementsByTagName('image');\n          const short_names = event.target.contentDocument.getElementsByClassName('rack-device-shortname');\n          const full_names = event.target.contentDocument.getElementsByClassName('rack-device-fullname');\n\n          [...images, ...short_names, ...full_names].forEach((rack_image) =>\n            rack_image.setAttribute('filter', 'url(#darkmodeinvert)'),\n          );\n        }\n      });\n    });\n  }\n};\n\nconst handleThemeChoiceUpgradeAndSetDefault = () => {\n  /**\n   * We need to handle the \"upgrade\" scenario:\n   * - Prior to Nautobot 3.0, the `theme` cookie was a Session cookie so not persisted.\n   * - localStorage was where a user's choice was \"stored\"\n   *\n   * In Nautobot 3.0+, we will do away with localStorage and instead move the user's choice to a persistent cookie, `theme_choice`.\n   * We will also keep the `theme` cookie as the \"determined\" theme for server-side rendering purposes.\n   * Generally we shouldn't need this as good media queries should handle it, but it's here for completeness.\n   * For example, some SVG renderings on the server may need to know the theme.\n   *\n   * To handle this upgrade scenario, we will:\n   * 1. Check if `theme_choice` cookie exists. If it does, we assume the user has already \"upgraded\" and do nothing.\n   * 2. If `theme_choice` cookie does not exist, we check localStorage for the user's theme choice.\n   * 3. If localStorage has a valid theme choice, we persist it to the `theme_choice` cookie.\n   * 4. Finally, we remove the theme from localStorage to complete the migration.'\n   *\n   * We can remove/refactor this in 4.0 for certain, but likely in 3.1+.\n   *\n   * In that scenario, if the theme_choice cookie is missing, we can default to 'system' without checking localStorage.\n   */\n\n  const themeChoiceCookie = getCookie(THEME_CHOICE_COOKIE_NAME);\n  if (!isValidThemeChoice(themeChoiceCookie)) {\n    // If theme_choice cookie does not exist or is invalid, check localStorage\n    const localStorageTheme = window.localStorage?.getItem('theme');\n\n    // If localStorage theme is valid, we use it, else we default to 'system';\n    // Note: we always removed the localStorage to imply the 'system' choice so technically we should only check for 'dark' or 'light' here, but we validate just in case.\n    const theme_choice_to_set = isValidThemeChoice(localStorageTheme) ? localStorageTheme : THEME_SYSTEM;\n\n    setCookie(THEME_CHOICE_COOKIE_NAME, theme_choice_to_set, { 'max-age': 31536000, path: '/' }); // 1 year\n  }\n  // Else: If theme_choice cookie exists and is valid, we don't need to do any migration.\n  // Regardless, we remove localStorage to complete migration, on the off chance it still exists.\n  window.localStorage?.removeItem('theme');\n};\n\nexport const initializeTheme = () => {\n  const modal = document.getElementById(THEME_MODAL_ID);\n  const buttons = modal?.querySelectorAll('button[data-nb-theme]') ?? [];\n\n  handleThemeChoiceUpgradeAndSetDefault();\n  setTheme();\n\n  window.matchMedia(`(prefers-color-scheme: ${THEME_DARK})`).addEventListener('change', () => setTheme());\n\n  const onClick = (event) => {\n    setTheme(event.currentTarget.dataset.nbTheme);\n    Modal.getInstance(modal).hide();\n  };\n  buttons.forEach((button) => button.addEventListener('click', onClick));\n\n  return () => buttons.forEach((button) => button.removeEventListener('click', onClick));\n};\n","/* eslint import/order: ['error', { alphabetize: { order: 'asc' }, 'newlines-between': 'ignore' }] */\n\nimport '../scss/nautobot.scss';\n\nimport * as bootstrap from 'bootstrap';\nwindow.bootstrap = bootstrap;\n\nimport ClipboardJS from 'clipboard';\nwindow.ClipboardJS = ClipboardJS;\n\nimport * as echarts from 'echarts';\nwindow.echarts = echarts;\n\nimport flatpickr from 'flatpickr';\nwindow.flatpickr = flatpickr;\n\nimport hljs from 'highlight.js/lib/core';\nimport graphql from 'highlight.js/lib/languages/graphql';\nimport json from 'highlight.js/lib/languages/json';\nimport xml from 'highlight.js/lib/languages/xml';\nimport yaml from 'highlight.js/lib/languages/yaml';\n\nimport htmx from 'htmx.org';\nwindow.htmx = htmx;\n\nhljs.registerLanguage('graphql', graphql);\nhljs.registerLanguage('json', json);\nhljs.registerLanguage('xml', xml);\nhljs.registerLanguage('yaml', yaml);\nwindow.hljs = hljs;\n\nimport jQuery from 'jquery';\nwindow.jQuery = jQuery;\nwindow.$ = window.jQuery;\n\nimport 'jquery-ui';\nimport 'jquery-ui/ui/widgets/sortable.js';\nimport 'select2';\n\nimport { initializeCheckboxes } from './checkbox.js';\nimport { initializeCollapseToggleAll } from './collapse.js';\nimport { initializeDraggable } from './draggable.js';\nimport { initializeDrawers } from './drawer.js';\nimport { observeFormStickyFooters } from './form.js';\nimport { loadState, saveState } from './history.js';\nimport { initializeSearch } from './search.js';\nimport { initializeSelectMultipleOrderable } from './select-multiple-orderable.js';\nimport { initializeSelect2Fields, setSelect2Value } from './select2.js';\nimport { initializeSidenav } from './sidenav.js';\nimport { observeCollapseTabs } from './tabs.js';\nimport { initializeTheme } from './theme.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  window.nb ??= {};\n\n  // History\n  loadState();\n  window.nb.history = { saveState };\n\n  // Tooltips\n  // https://getbootstrap.com/docs/5.3/components/tooltips/#enable-tooltips\n  [...document.querySelectorAll('[data-bs-toggle=\"tooltip\"]')].forEach((tooltip) => new bootstrap.Tooltip(tooltip));\n\n  // Sidenav\n  initializeSidenav();\n\n  // Checkbox\n  window.nb.checkbox = { initializeCheckboxes };\n\n  // Collapse\n  initializeCollapseToggleAll();\n\n  // Draggable\n  initializeDraggable();\n\n  // Drawer\n  initializeDrawers();\n\n  // Form\n  // TODO(norbert-mieczkowski-codilime): for htmx SPA-like behavior, re-initialize sticky footers like tabs below.\n  observeFormStickyFooters();\n\n  // Search\n  initializeSearch();\n\n  // Select Multiple Orderable\n  initializeSelectMultipleOrderable();\n\n  // Select2\n  window.nb.select2 = { initializeSelect2Fields, setSelect2Value };\n\n  // Tabs\n  /*\n   * TODO(norbert-mieczkowski-codilime): listen for proper event type(s) to re-initialize collapse tabs observers when\n   *   htmx dynamic content reloading is implemented. Said re-initialization should be as simple as something like:\n   *   ```js\n   *   let unobserveCollapseTabs = observeCollapseTabs();\n   *   document.body.addEventListener('htmx:xhr:loadend', () => unobserveCollapseTabs());\n   *   document.body.addEventListener('htmx:load', () => {\n   *     unobserveCollapseTabs = observeCollapseTabs();\n   *   });\n   *   ```\n   */\n  observeCollapseTabs();\n\n  // Theme\n  initializeTheme();\n\n  const toggleFavorite = (element, event) => {\n    if (event.detail.successful) {\n      element.classList.toggle('active');\n    }\n  };\n  window.toggleFavorite = toggleFavorite;\n\n  const setRequestUrl = (element, event) => {\n    const isFavorite = element.classList.contains('active');\n    event.detail.path = isFavorite ? element.dataset.deleteUrl : element.dataset.addUrl;\n  };\n  window.setRequestUrl = setRequestUrl;\n\n  // Remove the blur after clicking the footer links that are opening mostly in the new tab\n  // Keeping focus on those items is what keeps the tooltip as well\n  document.querySelectorAll('a[data-bs-toggle=\"tooltip\"], div[data-bs-toggle=\"tooltip\"] > a').forEach((el) => {\n    el.addEventListener('click', () => {\n      el.blur();\n    });\n  });\n\n  // When modal is being closed, bootstrap automatically restore the focus on the element that was triggering the modal\n  // As a result, after modal close tooltip was triggered as well\n  document.addEventListener('hidden.bs.modal', () => {\n    document.querySelectorAll('[data-bs-toggle=\"tooltip\"] > a').forEach((el) => {\n      el.blur();\n    });\n  });\n});\n","/**\n * Initialize collapse toggle all buttons identified by `data-nb-toggle=\"collapse-all\"` data attribute. Collapse toggle\n * all buttons can be further configured with `data-nb-target=\"{collapse CSS selector}\"` data attribute specifying which\n * collapse elements they control. When not explicitly set, target collapse CSS selector falls back to `\".collapse\"`.\n * ---\n * Critical difference between this and default Bootstrap 5 collapse implementation is that Bootstrap only supports\n * toggling individual panel states without an option to toggle them collectively. See an explanation below:\n * Bootstrap 5 on \"Collapse All Groups\" button click:  |  Nautobot on \"Collapse All Groups\" button click:\n *   * X [expanded]  -> [collapsed]             |    * X [expanded]  -> [collapsed]\n *   * Y [collapsed] -> [expanded]              |    * Y [collapsed] -> [collapsed]\n *   * Z [expanded]  -> [collapsed]             |    * Z [expanded]  -> [collapsed]\n * ---\n * @returns {function(): void} Destructor function - remove all event listeners added during initialization.\n */\nexport const initializeCollapseToggleAll = () => {\n  const areAll = (collapseElements, collapsedOrExpanded) =>\n    collapseElements.every((element) => {\n      const isCollapsed = !element.classList.contains('show');\n      return collapsedOrExpanded === 'collapsed' ? isCollapsed : !isCollapsed;\n    });\n\n  const getCollapseToggleAllTargets = (collapseToggleAll) => [\n    ...document.querySelectorAll(collapseToggleAll.dataset.nbTarget || '.collapse'),\n  ];\n\n  const onClick = (event) => {\n    const collapseToggleAll = event.target.closest('[data-nb-toggle=\"collapse-all\"]');\n\n    if (collapseToggleAll) {\n      getCollapseToggleAllTargets(collapseToggleAll).forEach((collapse) => {\n        const collapseInstance = window.bootstrap.Collapse.getOrCreateInstance(collapse);\n        const shouldCollapse = collapseToggleAll.getAttribute('aria-expanded') === 'true';\n\n        if (shouldCollapse) {\n          collapseInstance.hide();\n        } else {\n          collapseInstance.show();\n        }\n      });\n    }\n  };\n\n  const onHiddenBsCollapse = () =>\n    [...document.querySelectorAll('[data-nb-toggle=\"collapse-all\"]')]\n      .filter((collapseToggleAll) => areAll(getCollapseToggleAllTargets(collapseToggleAll), 'collapsed'))\n      .forEach((collapseToggleAll) => {\n        collapseToggleAll.setAttribute('aria-expanded', 'false');\n        collapseToggleAll.textContent = 'Expand All Groups';\n      });\n\n  const onShownBsCollapse = () =>\n    [...document.querySelectorAll('[data-nb-toggle=\"collapse-all\"]')]\n      .filter((collapseToggleAll) => areAll(getCollapseToggleAllTargets(collapseToggleAll), 'expanded'))\n      .forEach((collapseToggleAll) => {\n        collapseToggleAll.setAttribute('aria-expanded', 'true');\n        collapseToggleAll.textContent = 'Collapse All Groups';\n      });\n\n  // Using event delegation pattern here to avoid re-creating listeners each time DOM is modified.\n  document.addEventListener('click', onClick);\n  document.addEventListener('hidden.bs.collapse', onHiddenBsCollapse);\n  document.addEventListener('shown.bs.collapse', onShownBsCollapse);\n\n  return () => {\n    document.removeEventListener('click', onClick);\n    document.removeEventListener('hidden.bs.collapse', onHiddenBsCollapse);\n    document.removeEventListener('shown.bs.collapse', onShownBsCollapse);\n  };\n};\n","/**\n * Observe pinned state of elements of class `nb-form-sticky-footer` on the page and add drop shadow with `nb-is-pinned`\n * class if they are pinned. This is purely cosmetic and does not affect functionality.\n * @example\n * // Run form sticky footers observer algorithm exactly once, i.e. observe and immediately unobserve.\n * const unobserveFormStickyFooters = observeFormStickyFooters();\n * unobserveFormStickyFooters();\n * @returns {function(): void} Unobserve function - disconnect all resize observers created during function call.\n */\nexport const observeFormStickyFooters = () => {\n  // Form sticky footers pinned state detection with `IntersectionObserver` based on: https://stackoverflow.com/a/57991537.\n  const intersectionObserver = new IntersectionObserver(\n    ([entry]) => entry.target.classList.toggle('nb-is-pinned', entry.intersectionRatio < 1),\n    { threshold: [1] },\n  );\n\n  const formStickyFooters = [...document.querySelectorAll('.nb-form-sticky-footer')];\n  formStickyFooters.forEach((formStickyFooter) => intersectionObserver.observe(formStickyFooter));\n\n  return () => {\n    intersectionObserver.disconnect();\n  };\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t825: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknautobot\"] = self[\"webpackChunknautobot\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [68], () => (__webpack_require__(599)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","ITEM_CHECKBOX_SELECTOR","TOGGLE_CHECKBOX_SELECTOR","SELECT_ALL_BOX_SELECTOR","SELECT_ALL_CHECKBOX_SELECTOR","setChecked","checkbox","checked","setTimeout","dispatchEvent","Event","bubbles","cancelable","initializeCheckboxes","lastSelectedIndex","document","addEventListener","event","toggleCheckbox","target","closest","isChecked","querySelectorAll","forEach","itemCheckbox","allCheckboxes","currentIndex","indexOf","shiftKey","startIndex","Math","min","endIndex","max","shouldSelect","slice","selectAllBox","querySelector","classList","toggle","selectAll","table","tableToggleCheckbox","hasUnchecked","some","button","disabled","DRAGGABLE_CLASS","DRAGGABLE_CONTAINER_CLASS","DRAGGING_CLASS","DRAWER_OPEN_CLASS","toggleDrawer","drawer","force","isOpen","contains","setAttribute","drawerToggles","id","drawerToggle","getElementsByClassName","filter","openDrawer","rafRetriesRemaining","window","requestAnimationFrame","focusDrawer","getComputedStyle","visibility","focus","activeElement","nextActiveElement","preventScroll","CustomEvent","SESSION_STORAGE_KEY","saveState","state","stateToSave","undefined","history","sessionStorage","setItem","JSON","stringify","createElement","tag","attributes","children","element","Object","entries","attribute","value","child","insertAdjacentText","appendChild","removeElementClasses","ignore","className","includes","remove","rem","px","rootFontSize","documentElement","fontSize","parseInt","FORM_CONTROL_PADDING_X","GAP","ICON_SIZE","BASE_SEARCH_INPUT_PADDING_X","INPUT_ID_TO_VALUE_REGEXP","getElement","Document","Element","setSelect2Value","select2","$","val","option","innerText","text","nextValue","length","getAttribute","map","trigger","initializeSelect2","context","selector","options","allowClear","placeholder","selectionCssClass","theme","width","initializeColorPicker","dropdownParent","colorPickerClassCopy","data","container","templateResult","templateSelection","initializeDynamicChoiceSelection","ajax","params","this","offset","page","q","term","search_field","api_version","depth","content_type","extra_query_parameters_array","name","flatMap","param_name","split","parse","exception","has_ref_field","startsWith","ref_field","id_prefix","match","ref_field_value","field_value","select","selectedOptions","style","opacity","param_value","Array","isArray","pv","parameters","String","URLSearchParams","toString","delay","processResults","$element","removeAttribute","results","previous","values","reduce","accumulator","record","index","Boolean","item","group","site","url","should_nullify_children","collection","property","pagination","more","next","dataUrl","filter_regex","rendered_url","exec","filter_field","custom_attribute","replace","parseURL","initializeMultiValueChar","language","noResults","multiple","tags","tokenSeparators","on","search","ev","key","preventDefault","stopPropagation","trim","sel","get","found","prototype","find","call","opt","selected","add","Option","initializeStaticChoiceSelection","initializeSelect2Fields","modal","getCookie","cookie","setCookie","properties","path","entry","join","SIDENAV_COLLAPSED_KEY","toggleSidenav","toggler","controls","expanded","getElementById","localStorage","expires","removeItem","TABS_HIDDEN_CLASSES","THEME_MODAL_ID","THEME_DARK","THEME_LIGHT","THEME_SYSTEM","THEME_CHOICE_COOKIE_NAME","isValidThemeChoice","theme_choice","setTheme","persistThemeChoice","current_theme_choice","determined_theme","matchMedia","matches","determineTheme","dataset","nbTheme","bsTheme","highlighterLinks","syntaxLinkElement","css_file","href","handleSyntaxHighlighterThemeChange","echart_instances","instance","textContent","colors","color","colorObj","light","echarts","getInstanceByDom","setOption","darkMode","handleEchartsThemeChange","getElementsByTagName","object","contentDocument","rack_image","bootstrap","ClipboardJS","flatpickr","htmx","registerLanguage","graphql","json","xml","yaml","hljs","jQuery","nb","getItem","location","pathname","hash","replaceState","loadState","tooltip","sidenavCollapsedInitialState","sidenavListItem","onClickDocument","documentClickEvent","documentClickTarget","sidenavFlyout","removeEventListener","sidenavBranchPickerReturnUrl","return_url","URL","searchParams","delete","sidenavBranchPickerSelect","currentTarget","form","submit","sidenavTimeTravelReturnUrl","sidenavTimeTravelPickerInput","allowInput","maxDate","onChange","_selectedDates","dateStr","input","blur","onReady","wrap","initializeSidenav","areAll","collapseElements","collapsedOrExpanded","every","isCollapsed","getCollapseToggleAllTargets","collapseToggleAll","nbTarget","collapse","collapseInstance","Collapse","getOrCreateInstance","hide","show","initializeCollapseToggleAll","createHandleOnMouseListener","isDraggable","handle","onMouseDown","onMouseUp","draggable","dataTransfer","clearData","setData","getData","insertBefore","dropDraggable","height","top","getBoundingClientRect","clientY","nextSibling","left","right","clientX","append","initializeDraggable","nextState","restState","keys","dismiss","nbDismiss","nbToggle","intersectionObserver","IntersectionObserver","intersectionRatio","threshold","formStickyFooter","observe","observeFormStickyFooters","headerSearch","NAV_MENU","navMenu","SEARCHABLE_MODELS","fromEntries","tabs","tab_details","groups","group_details","items","item_link","item_details","BADGE_REG_EXP","RegExp","delimiter","headerSearchInput","closeSearchPopup","searchPopup","body","isPressedCmd","getModifierState","isPressedCtrl","ctrlKey","setSelectionRange","mainLeft","mainRight","headerSearchInputTop","icon","badges","required","type","clear","InputEvent","shouldHideClear","action","role","badge","nbLink","popup","overlay","addBadge","link","removeButton","class","existing","ResizeObserver","paddingInlineStart","phrase","model","normalize","toLowerCase","isBackspace","isInputStart","selectionEnd","selectionStart","initializeSearch","list","previousElementSibling","resizeObservers","resizeObserver","tabsParent","parentNode","tabsClone","cloneNode","clone","tabsCloneTemporaryClasses","shouldCollapseTabs","removeChild","dropdownMenu","dropdownToggleIcon","dropdownToggleLabel","dropdownToggle","dropdown","collapsedTabs","lastTab","unshift","collapsedTab","navLink","clonedTab","originalTab","getInstance","collapseTabs","observeCollapseTabs","buttons","themeChoiceCookie","localStorageTheme","theme_choice_to_set","handleThemeChoiceUpgradeAndSetDefault","onClick","Modal","initializeTheme","toggleFavorite","detail","successful","setRequestUrl","isFavorite","deleteUrl","addUrl","el","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","splice","r","d","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}