{% extends "base.html" %}
{% load static %}

{% block title %}{{ title | default:"Redoc" }}{% endblock title %}

{% block breadcrumbs %}
    {% include "inc/breadcrumbs.html" %}
{% endblock %}

{% block extra_styles %}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&family=Roboto:wght@300;400;700&display=swap">
    <style>
        {# Redoc doesn't change outer page styles. #}
        body { margin: 0; padding: 0; }
    </style>
{% endblock extra_styles %}

{% block content %}
    {% if settings %}
        <div id="redoc-container"></div>
    {% else %}
        <redoc spec-url="{{ schema_url }}"></redoc>
    {% endif %}
{% endblock content %}

{% block javascript %}
    <script src="{{ redoc_standalone }}"></script>
    {% if settings %}
        <script>
            const redocSettings = {{ settings|safe }};
            Redoc.init("{{ schema_url }}", redocSettings, document.getElementById('redoc-container'))
        </script>
    {% endif %}
{% endblock javascript %}
