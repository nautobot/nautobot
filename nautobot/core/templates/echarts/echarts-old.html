<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>{{ chart.header }}</title>
  </head>
  <body>
    {% include 'inc/javascript.html' %}

    <h2>{{ chart.header }}</h2>
    <p>{{ chart.description }}</p>

    <div id="main" style="width: 600px;height:400px;"></div>

    <!-- Safe JSON export from Django -->
    {{ chart_config|json_script:"echarts-config" }}

    <script type="text/javascript">
      // Initialize the echarts instance based on the prepared dom
      var myChart = window.echarts.init(document.getElementById('main'));

      // Get config from JSON script
      var option = JSON.parse(
        document.getElementById("echarts-config").textContent
      );

      // Display the chart using the configuration items and data just specified.
      myChart.setOption(option);
    </script>
  </body>
</html>