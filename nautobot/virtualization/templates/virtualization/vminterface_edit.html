{% extends 'generic/object_edit.html' %}
{% load form_helpers %}
{% load helpers %}

{% block form %}
    <div class="card ">
        <div class="card-header"><strong>Interface</strong></div>
        <div class="card-body">
            {% if form.instance.virtual_machine %}
                <div class="form-group">
                    <label class="col-lg-3 col-form-label required" for="id_device">Virtual Machine</label>
                    <div class="col-lg-9">
                        <p class="form-control-static">
                            {{ form.instance.virtual_machine|hyperlinked_object }}
                        </p>
                    </div>
                </div>
            {% endif %}
            {% render_field form.name %}
            {% render_field form.status %}
            {% render_field form.enabled %}
            {% render_field form.parent_interface %}
            {% render_field form.bridge %}
            {% render_field form.mac_address %}
            {% render_field form.mtu %}
            {% render_field form.description %}
        </div>
    </div>
    <div class="card ">
        <div class="card-header"><strong>802.1Q Switching</strong></div>
        <div class="card-body">
            {% render_field form.mode %}
            {% render_field form.untagged_vlan %}
            {% render_field form.tagged_vlans %}
        </div>
    </div>
    {% include 'inc/extras_features_edit_form_fields.html' %}
{% endblock %}

{% block buttons %}
    {% if editing %}
        <button type="submit" name="_update" class="btn btn-primary">Update</button>
        <button type="submit" formaction="?return_url={% url 'virtualization:vminterface_edit' pk=obj.pk %}" class="btn btn-primary">Update and Continue Editing</button>
    {% else %}
        <button type="submit" name="_create" class="btn btn-primary">Create</button>
        <button type="submit" name="_addanother" class="btn btn-primary">Create and Add Another</button>
    {% endif %}
    <a href="{{ return_url }}" class="btn btn-secondary">Cancel</a>
{% endblock %}
